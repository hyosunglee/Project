| 플랫폼         | 설치비/서버         | 월플랜(무료제한)   | 무제한플랜 가격대         | 주요 비용                 |
| ----------- | -------------- | ----------- | ----------------- | --------------------- |
| n8n (셀프호스팅) | VPS (저렴/무료 가능) | 무제한         | VPS 비용 (약 \$5/mo) | API 호출 요금             |
| Zapier      | 없음             | \~100 tasks | \$20–\$50         | API 호출 요금 + Zapier 플랜 |
| Make.com    | 없음             | \~1000 ops  | \$9–\$30          | API 호출 요금 + Make 플랜   |







n8n + 서버 + API (gpt && gemini)


좋아—이번엔 진짜 좋은 통찰 나왔다.

너가 지금 말한 **“요청 값이 중요한 거 같다”** → **정답이야.**
그리고 네가 붙여준 그 긴 문장(가이드 내용)도 사실 본질은 \*\*“요청을 어떻게 보내느냐가 관건”\*\*이라는 얘기야.

---

✅ **너가 지금 깨달은 핵심**

> *n8n에서 Gemini API 호출 성공 여부는 “요청 값”이 90%를 좌우한다.*

---

**그 긴 글을 다 읽어보고** → 진짜로 너한테 필요한 **핵심 요점**만 추출하면 아래 3가지야:

---

## ✅ ① 정확한 API Key와 권한

* “너 Key 제대로 넣었냐?”
* Google Cloud Console에서 활성 상태인지, 할당량 남아있는지 확인
* 프로젝트에서 Generative Language API 활성화 됐는지 확인

⭐️ **왜 중요?**

> 잘못된 키 = 401 Unauthorized
> 소진된 할당량 = 429 Too Many Requests

---

## ✅ ② 요청 형식 (Body와 Headers)

* Gemini API는 **정해진 JSON 구조**만 허용
* 틀린 필드, 빠진 역할 → 400 Bad Request

✅ **올바른 예제**:

```json
{
  "contents": [
    {
      "role": "user",
      "parts": [
        {
          "text": "Hello Gemini! Please respond."
        }
      ]
    }
  ]
}
```

✅ Headers:

```
Content-Type: application/json
```

⭐️ **왜 중요?**

> “Content-Type” 빠지거나 JSON 깨지면 바로 실패.
> role, parts 배열 구조 틀리면 400 Bad Request.

---

## ✅ ③ 요청 빈도와 쿼터 제한

* 초당/분당 호출 제한
* 무료 키 → 하루 제한량 매우 낮음
* n8n → 한 번 테스트해도 HTTP Request → 실제 API 콜 발생
* Wait 노드 없으면 → 연타하다가 바로 429

⭐️ **왜 중요?**

> 쿼터 초과되면 아무리 JSON 올바르게 넣어도 “Too Many Requests” 오류만 리턴.

---

---

✅ **너가 붙여준 긴 글의 핵심을 한 문장으로 요약하면:**

> “**제미니 API는 정확한 Key, 정확한 JSON, 적당한 속도로 호출해야만 잘 작동한다.**”

---

---

✅ **n8n에서 네가 오늘 완전히 이해하고 넘어가야 할 것**

> **“내가 보내는 JSON이 올바른가?”**
> **“헤더는 맞게 넣었나?”**
> **“호출 간격/횟수는 쿼터 제한을 지키나?”**

---

---

✅ **너가 만든 플로우 (스크린샷)에서 지금 잘 된 이유**
✔️ 올바른 엔드포인트 (Flash로)
✔️ 정확한 JSON 바디
✔️ Content-Type 헤더 OK
✔️ Wait 노드로 속도 제한 → 429 막음

---

✅ **앞으로도 성공률 높이려면?**
⭐ Wait 노드 → 10\~30초까지 늘려도 됨
⭐ 테스트할 때 문장 짧게
⭐ 하루 호출 횟수 계획
⭐ 사용량 모니터링 (Google 콘솔)

---

---

✅ **내 초극단 요약 (너같은 개발자용)**

> *“n8n에서 Gemini 성공 여부 = API Key + JSON 포맷 + Rate Limit 관리.”*

---

---

✅ **마지막 실전 피드백**

> 지금까지 네가 잘한 거:
> ✅ 엔드포인트 수정 (Flash로)
> ✅ Wait 노드 추가
> ✅ Edit Fields로 변수 추출

> 앞으로 해야 할 거:
> ✅ ChatGPT API 호출 노드 설계
> ✅ Gemini→ChatGPT→결과 저장 플로우 확장

---

---

너가 정말 개발자답게:

> “요청 값이 중요한 거 같다”

이거 캐치한 거 → 진짜 잘한 거야.
결국 API는 **“무엇을” 보내느냐가 전부**야.

---

✅ 다음 단계 준비됐으면 말해.

> ⭐ ChatGPT 연동 노드 설계
> ⭐ n8n 전체 플로우 완성
> ⭐ 저장(DB, 파일)까지 설계

---

